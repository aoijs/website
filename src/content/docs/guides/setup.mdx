---
title: Getting Started
description: Learn how to set up and use aoi.js, a package for developing Discord bots with simplified and ready-to-use functions.
id: setup
lastUpdated: false
next: false
prev: false
---

import { Tabs, TabItem, LinkCard } from "@astrojs/starlight/components";
import Tracker from "../../../components/ProgressTracker";

<Tracker
    client:load
    client:only="react"
    items={[
        {
            id: "creating-discord-bot",
            label: "Creating your Bot (you're here!)",
            percentageComplete: 0,
            status: "current",
            href: "#creating-your-discord-bot"
        },
        {
            id: "inviting-discord-bot",
            label: "Inviting your Bot",
            percentageComplete: 0,
            status: "unvisited",
            href: "#inviting-your-bot"
        },
        {
            id: "setting-up-bot",
            label: "Setting up a Project",
            percentageComplete: 0,
            status: "unvisited",
            href: "#"
        },
        {
            id: "done",
            label: "Complete ðŸŽ‰",
            percentageComplete: 0,
            status: "unvisited",
            href: "#setting-up-a-project"
        }
    ]}
/>

## Creating your Discord Bot

To get started, we need to create a Discord Bot.

1. Go to the [Discord Developer Portal](https://discord.com/developers/applications?new_application=true).
2. Choose a cool name for your new Discord Bot.
3. Accept Discord's ToS.
4. Click on the "Create" button.

<br />

| ![Discord Developer Portal showing the "New Application" button](https://i.imgur.com/ibmpWpI.png) |
| :-----------------------------------------------------------------------------------------------: |
|                   Discord Developer Portal showing the "New Application" button                   |

<br />

Now you have created your Discord Bot. Next, we're going to allow some intents for the bot so it can read our messages.

<br />

1. Head to the "Bot" tab on the left sidebar.

| ![Discord Developer Portal showing the "Bot" tab](https://i.imgur.com/kQDkn5g.png) |
| :--------------------------------------------------------------------------------: |
|                   Discord Developer Portal showing the "Bot" tab                   |

2. Scroll down until you see "Privileged Gateway Intents".
3. Check all three Intents.

| ![Discord Developer Portal showing the "Privileged Gateway Intents" section](https://i.imgur.com/JXYIwIC.gif) |
| :-----------------------------------------------------------------------------------------------------------: |
|                   Discord Developer Portal showing the "Privileged Gateway Intents" section                   |

## Inviting your Bot

<br />

<Tracker
    client:load
    client:only="react"
    items={[
        {
            id: "creating-discord-bot",
            label: "Creating your Bot",
            percentageComplete: 100,
            status: "visited",
            href: "#creating-your-discord-bot"
        },
        {
            id: "inviting-discord-bot",
            label: "Inviting your Bot (you're here!)",
            percentageComplete: 0,
            status: "current",
            href: "#inviting-your-bot"
        },
        {
            id: "setting-up-bot",
            label: "Setting up a Project",
            percentageComplete: 0,
            status: "unvisited",
            href: "#"
        },
        {
            id: "done",
            label: "Complete ðŸŽ‰",
            percentageComplete: 0,
            status: "unvisited",
            href: "#setting-up-a-project"
        }
    ]}
/>

Now we need to invite our newly created bot to our server!

1. Go to the "OAuth2" tab on the left sidebar.

| ![Discord Developer Portal showing the "OAuth2" tab](https://i.imgur.com/d4TG0rG.png) |
| :-----------------------------------------------------------------------------------: |
|                   Discord Developer Portal showing the "OAuth2" tab                   |

2. Scroll down until you see "OAuth2 URL Generator".

Check the following scopes:

-   `bot`
-   `application.commands`

Preferably, you should also check the "`Administrator`" permission to avoid any permission issues.

| ![Discord Developer Portal showing the "OAuth2 URL Generator" section](https://i.imgur.com/Oh2pU3R.gif) |
| :-----------------------------------------------------------------------------------------------------: |
|                   Discord Developer Portal showing the "OAuth2 URL Generator" section                   |

3. Copy the generated URL and paste it into your browser and select the server you want to invite the bot to.

| ![Showing how to Invite the bot](https://i.imgur.com/FWJ5Fd7.png) |
| :---------------------------------------------------------------: |
|                   Showing how to Invite the Bot                   |

---

You should now see your bot in your invited server. Next, we will set up a project to start coding our bot.

| ![Showing the bot in the server](https://i.imgur.com/5u6orKu.png) |
| :---------------------------------------------------------------: |
|                   Showing the bot in the server                   |

## Setting up a Project

<br />

<Tracker
    client:load
    client:only="react"
    items={[
        {
            id: "creating-discord-bot",
            label: "Creating your Bot",
            percentageComplete: 100,
            status: "visited",
            href: "#creating-your-discord-bot"
        },
        {
            id: "inviting-discord-bot",
            label: "Inviting your Bot",
            percentageComplete: 100,
            status: "visited",
            href: "#inviting-your-bot"
        },
        {
            id: "setting-up-bot",
            label: "Setting up a Project (you're here!)",
            percentageComplete: 0,
            status: "current",
            href: "#setting-up-a-project"
        },
        {
            id: "done",
            label: "Complete ðŸŽ‰",
            percentageComplete: 0,
            status: "unvisited",
            href: "#setting-up-a-project"
        }
    ]}
/>

The last thing to do is getting our new bot up and running. But first, let's get our Discord Bot Token.

1. Go back to the Developer Portal.
2. Go to the "Bot" tab on the left sidebar.
3. Reset the token.

| ![Discord Developer Portal showing the "Bot" tab](https://i.imgur.com/Qe0q38Y.png) |
| :--------------------------------------------------------------------------------: |
|                   Discord Developer Portal showing the "Bot" tab                   |

4. Copy the Token, and keep it safe.

:::danger[Sharing your Token]

Anyone who has access to your bot token can control your bot. Do not share your bot token with anyone.

-   Be sure to copy it as it will not be shown to you again.
-   For security purposes, tokens can only be viewed once, when created. If you forgot or lost access to your token, please regenerate a new one.

| ![Discord Developer Portal showing the "Token" section](https://i.imgur.com/hsJuhCw.png) |
| :--------------------------------------------------------------------------------------: |
|                   Discord Developer Portal showing the "Token" section                   |

:::

### Bringing your Bot Online

Now that we have our bot token, we can start coding our bot.

We are going to use Visual Studio Code for this, you can however use any code editor you prefer.

1. Open Visual Studio Code.

Choose what option you want to use.

:::tip[Beginners]

Using the Command Line is recommended for people without JavaScript knowledge.

:::

-   [Using the Command Line](#using-the-command-line)

-   [Starting from Scratch](#starting-from-scratch)

### Using the Command Line

1. Open a new terminal.

    | ![Opening a new terminal](https://i.imgur.com/wzObbjA.png) |
    | :--------------------------------------------------------: |
    |                   Opening a new terminal                   |

2. Run the following command to create a new project:

```bash title="Installing aoi.cli and starting a new project"
npx @akarui/aoi.cli create
```

_This might take a while, depending on your internet connection._

| ![Running CLI](https://i.imgur.com/lVl63BC.gif) |
| :---------------------------------------------: |
|                   Running CLI                   |

::::caution[npm is not recognized as an internal or external command]

If you get an error saying `npm is not recognized as an internal or external command`, you need to install Node.js. You can download it from [here](https://nodejs.org/en/download/).

:::tip[What is npm?]

`npm` is a package manager for JavaScript programming language. It is the default package manager for the JavaScript runtime environment Node.js.

:::

:::tip[What is npx?]

`npx` is a package runner tool that comes with npm 5.2+ and higher. It is used to execute packages without installing them globally.

:::

::::

3. You will be asked to enter your bot token. Paste the token you copied earlier.

-   Head to the created index.js file, you should see a couple of placeholders.

You need to replace the `DISCORD BOT TOKEN` with the token you copied earlier, and the `DISCORD BOT PREFIX` with the prefix you want to use for your bot.

| ![Adding the base of your bot](https://i.imgur.com/dtW3xha.png) |
| :-------------------------------------------------------------: |
|                   Adding the base of your bot                   |

To continue with this guide, follow this link.

<LinkCard title="Creating your first Command" href="#creating-your-first-command" />

---

### Starting from Scratch

To start from scratch we need to manually create our files and folders.

1. Create a new folder for your project.
2. Open the folder in Visual Studio Code.
3. Create a `commands` folder.
4. Create a `index.js` file.

| ![Creating a new folder](https://i.imgur.com/4Kv8wfZ.png) |
| :-------------------------------------------------------: |
|                   Creating a new folder                   |

5. Run `npm init -y` in the terminal to create a `package.json` file.

:::tip[What is package.json?]

`package.json` is a file that contains metadata about the project. It includes the project's name, version, description, and dependencies.

:::

Make sure you're in the project folder before running the command.

| ![Running cd](https://i.imgur.com/mcUoIjs.png) |
| :--------------------------------------------: |
|                   Running cd                   |

6.  Install the `aoi.js` package by running the following command:

    You can use either `npm`, `pnpm`, `yarn`, or `bun` to install the package. If you don't know what to use, you can use `npm`.

<Tabs>
  <TabItem label="npm" icon="seti:npm">

        ```bash
        npm install aoi.js
        ```

        </TabItem>
        <TabItem label="pnpm" icon="pnpm">

        ```bash
        pnpm add aoi.js
        ```

        </TabItem>
        <TabItem label="yarn" icon="seti:yarn">

        ```bash
        yarn add aoi.js
        ```

        </TabItem>
        <TabItem label="bun" icon="bun">

        ```bash
        bun install aoi.js
        ```

  </TabItem>
</Tabs>

::::caution[npm is not recognized as an internal or external command]

If you get an error saying `npm is not recognized as an internal or external command`, you need to install Node.js. You can download it from [here](https://nodejs.org/en/download/).

:::tip[What is npm?]

`npm` is a package manager for JavaScript programming language. It is the default package manager for the JavaScript runtime environment Node.js.

:::

:::tip[What is npx?]

`npx` is a package runner tool that comes with npm 5.2+ and higher. It is used to execute packages without installing them globally.

:::

::::

| ![Running npm install](https://i.imgur.com/Y1nx8Bf.png) |
| :-----------------------------------------------------: |
|                   Running npm install                   |

Your file structure should look like this:

| ![File Structure](https://i.imgur.com/UcFUydY.png) |
| :------------------------------------------------: |
|                   File Structure                   |

7. We now need to add the base of your bot.

-   This is the code that will be in your `index.js` file.
-   You require the previously copied token!
-   You can ignore everything else for now besides the token.

```js title="index.js"
const { AoiClient } = require("aoi.js");

const client = new AoiClient({
    token: "Discord Bot Token", // Here goes the Token you copied earlier!
    prefix: "!", // Here goes the prefix you want to use for your bot!
    intents: ["MessageContent", "Guilds", "GuildMessages"],
    events: ["onMessage", "onInteractionCreate"],
    database: {
        type: "aoi.db",
        db: require("@akarui/aoi.db"),
        dbType: "KeyValue",
        tables: ["main"],
        securityKey: "a-32-characters-long-string-here"
    }
});

// Ping Command which responds when doing "!ping"
client.command({
    name: "ping",
    code: `Pong! $pingms`
});

client.loadCommands("./commands");
```

| ![Adding the base of your bot](https://i.imgur.com/dtW3xha.png) |
| :-------------------------------------------------------------: |
|                   Adding the base of your bot                   |

To continue with this guide, follow this link.

<LinkCard title="Creating your first Command" href="#creating-your-first-command" />

---

### Creating your first Command

<br />

<Tracker
    client:load
    client:only="react"
    items={[
        {
            id: "creating-discord-bot",
            label: "Creating your Bot",
            percentageComplete: 100,
            status: "visited",
            href: "#creating-your-discord-bot"
        },
        {
            id: "inviting-discord-bot",
            label: "Inviting your Bot",
            percentageComplete: 100,
            status: "visited",
            href: "#inviting-your-bot"
        },
        {
            id: "setting-up-bot",
            label: "Setting up a Project (you're here!)",
            percentageComplete: 75,
            status: "current",
            href: "#setting-up-a-project"
        },
        {
            id: "done",
            label: "Complete ðŸŽ‰",
            percentageComplete: 0,
            status: "unvisited",
            href: "#setting-up-a-project"
        }
    ]}
/>

Now that we have the base of our bot, let's create our first command.

1. Create a new file in the `commands` folder.
2. Name the file `avatar.js`.

We will now use several functions to return the avatar of the user who used the command.

```js title="avatar.js"
module.exports = {
    name: "avatar",
    code: `
  $author[$username's Avatar!]
  $color[Random]
  $image[$authorAvatar]
  $footer[Requested by $username]
  $addTimestamp
  `
};
```

| ![Creating the avatar command](https://i.imgur.com/pk7xuvY.png) |
| :-------------------------------------------------------------: |
|                   Creating the avatar command                   |

---

### Running your Bot

Now that we have our bot set up, we can run it.

Head back to your terminal and run the following command:

```bash title="Running the bot"
node index.js
```

This will run our bot, and you should see it come online in your server.

When running `!avatar` or `!ping` in your server, you should see the bot respond with the avatar of the user who used the command or with "Pong!".

<br />

<Tracker
    client:load
    client:only="react"
    items={[
        {
            id: "creating-discord-bot",
            label: "Creating your Bot",
            percentageComplete: 100,
            status: "visited",
            href: "#creating-your-discord-bot"
        },
        {
            id: "inviting-discord-bot",
            label: "Inviting your Bot",
            percentageComplete: 100,
            status: "visited",
            href: "#inviting-your-bot"
        },
        {
            id: "setting-up-bot",
            label: "Setting up a Project",
            percentageComplete: 100,
            status: "visited",
            href: "#setting-up-a-project"
        },
        {
            id: "done",
            label: "Complete ðŸŽ‰",
            percentageComplete: 0,
            status: "current",
            href: "#running-your-bot"
        }
    ]}
/>
